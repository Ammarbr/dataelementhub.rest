{
  "openapi": "3.0.1",
  "info": {
    "title": "DataElementHub Rest API",
    "contact": {
      "name": "Medical Informatics Group",
      "url": "http://www.mig-frankfurt.de",
      "email": "vengadeswaran@med.uni-frankfurt.de"
    },
    "description": "REST API Documentation!\n\n  Github repositories:\n\n<https://github.com/mig-frankfurt/dataelementhub.dal>\n\n<https://github.com/mig-frankfurt/dataelementhub.model>\n\n<https://github.com/mig-frankfurt/dataelementhub.rest>\n\n<https://github.com/mig-frankfurt/dataelementhub.gui>\n\nContact:\n\n",
    "version": "1.0.0",
    "license": {
      "url": "https://www.gnu.org/licenses/agpl-3.0.de.html",
      "name": "License: AGPLv3"
    }
  },
  "paths": {
    "/v1/import": {
      "get": {
        "tags": [
          "Import"
        ],
        "summary": "List all imports.",
        "operationId": "List all imports.",
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/import/?namespaceUrn={namespaceUrn}": {
      "post": {
        "tags": [
          "Import"
        ],
        "summary": "Import stagedElements into DEHUB.",
        "operationId": "import",
        "parameters": [
          {
            "name": "namespaceUrn",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "importDto",
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "required": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/import/{importId}": {
      "delete": {
        "tags": [
          "Import"
        ],
        "summary": "Delete an import by Id.",
        "operationId": "Delete an import by Id.",
        "parameters": [
          {
            "name": "importId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      },
      "get": {
        "tags": [
          "Import"
        ],
        "summary": "Get import info by Id.",
        "operationId": "Get import info by Id.",
        "parameters": [
          {
            "name": "importId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/import/{importId}/members?hideSubElements={hideSubElements}&onlyConverted={onlyConverted}": {
      "get": {
        "tags": [
          "Import"
        ],
        "summary": "Get all import members.",
        "operationId": "Get all import members.",
        "parameters": [
          {
            "name": "importId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "hideSubElements",
            "in": "path",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          },
          {
            "name": "onlyConverted",
            "in": "path",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/import/{importId}/{stagedElementId}": {
      "get": {
        "tags": [
          "Import"
        ],
        "summary": "Get stagedElement from a specified import by Id.",
        "operationId": "Get stagedElement from a specified import by Id.",
        "parameters": [
          {
            "name": "importId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "stagedElementId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/import/{importId}/{stagedElementId}/members?onlyConverted={onlyConverted}": {
      "get": {
        "tags": [
          "Import"
        ],
        "summary": "Get stagedElement members from a specified import by Id.",
        "operationId": "Get stagedElement members from a specified import by Id.",
        "parameters": [
          {
            "name": "importId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "stagedElementId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "onlyConverted",
            "in": "path",
            "required": false,
            "schema": {
              "type": "string",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/import/{importId}/convert": {
      "post": {
        "tags": [
          "Import"
        ],
        "summary": "Get stagedElement from a specified import to draft.",
        "operationId": "Get stagedElement from a specified import to draft.",
        "parameters": [
          {
            "name": "importId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "requestBody": {
          "description": "Elements to convert.",
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              },
              "examples": {
                "Convert Elements": {
                  "description": "Elements to convert.",
                  "value": [
                    "urn:1:dataelement:1:1"
                  ]
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/export": {
      "post": {
        "tags": [
          "Export"
        ],
        "summary": "Export DEHUB Elements in JSON or XML format.",
        "operationId": "Export DEHUB Elements in JSON or XML format.",
        "parameters": [
          {
            "name": "format",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": ["json", "xml"],
              "default": "json"
            }
          },
          {
            "name": "fullExport",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": "true"
            }
          }
        ],
        "requestBody": {
          "description": "exportDto",
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              },
              "examples": {
                "EXPORT": {
                  "description": "EXPORT",
                  "value": {
                    "label": "first export",
                    "elementUrns": [
                      "urn:1:namespace:1:1",
                      "urn:1:dataelement:1:1"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "default response"
          },
          "406": {
            "description": "Invalid Accept Header"
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      },
      "get": {
        "tags": [
          "Export"
        ],
        "summary": "Get all Exports.",
        "operationId": "All Exports",
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/export/{exportId}?onlyUrns={onlyUrns}": {
      "get": {
        "tags": [
          "Export"
        ],
        "summary": "Get export file/exported elements if done otherwise get export status.",
        "operationId": "Check Export Status and return export file if done.",
        "parameters": [
          {
            "name": "exportId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "onlyUrns",
            "in": "path",
            "required": true,
            "schema": {
              "type": "boolean",
              "enum": [true, false]
            }
          }
        ],
        "responses": {
          "default": {
            "x-is-file": true,
            "description": "default response",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/relations": {
      "get": {
        "tags": [
          "Element Relations"
        ],
        "summary": "Get Element Relations.",
        "operationId": "relations",
        "parameters": [
          {
            "name": "type",
            "in": "query",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "example": ["undefined", "equal", "equivalent", "wider", "subsumes",
                "narrower", "specializes", "inexact", "supersedes"]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Element Relations"
        ],
        "summary": "Delete Element Relation.",
        "operationId": "delete relations",
        "requestBody": {
          "description": "default response",
          "content": {
            "application/json": {
              "schema": {
                "type": "string"
              },
              "examples": {
                "ElementRelations": {
                  "description": "Update Element Relation.",
                  "value": {
                    "leftUrn": "urn:1:dataelement:1:1",
                    "leftSource": 1,
                    "rightUrn": "urn:1:dataelement:2:1",
                    "rightSource": 1,
                    "relation": "equal"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Element relations successfully deleted",
            "content": { }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Element Relations"
        ],
        "summary": "Create Element Relations.",
        "operationId": "create relations",
        "requestBody": {
          "description": "default response",
          "content": {
            "application/json": {
              "schema": {
                "type": "string"
              },
              "examples": {
                "ElementRelations": {
                  "description": "ElementRelations",
                  "value": [
                    {
                      "leftUrn": "urn:1:dataelement:1:1",
                      "leftSource": 1,
                      "rightUrn": "urn:1:dataelement:2:1",
                      "rightSource": 1,
                      "relation": "equal"
                    }
                  ]
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Element relations successfully created",
            "content": {}
          },
          "400": {
            "description": "An error occurred trying to post element relations",
            "content": {}
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      },
      "put": {
        "tags": [
          "Element Relations"
        ],
        "summary": "Update Element Relation.",
        "operationId": "update relations",
        "requestBody": {
          "description": "default response",
          "content": {
            "application/json": {
              "schema": {
                "type": "string"
              },
              "examples": {
                "ElementRelations": {
                  "description": "Update Element Relation.",
                  "value": {
                    "leftUrn": "urn:1:dataelement:1:1",
                    "leftSource": 1,
                    "rightUrn": "urn:1:dataelement:2:1",
                    "rightSource": 1,
                    "relation": "equal"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Updating element relations was successful",
            "content": { }
          },
          "400": {
            "description": "An error occurred trying to update element relations",
            "content": { }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/search?query={query}&type={type}&status={status}&section={section}": {
      "get": {
        "tags": [
          "Search"
        ],
        "summary": "Search for an Element.",
        "operationId": "search",
        "parameters": [
          {
            "name": "query",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "type",
            "in": "path",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "example": ["DATAELEMENTGROUP", "RECORD", "DATAELEMENT", "NAMESPACE",
                "ENUMERATED_VALUE_DOMAIN", "DESCRIBED_VALUE_DOMAIN", "DEFINED_VALUE_DOMAIN",
                "CATALOG_VALUE_DOMAIN", "PERMISSIBLE_VALUE"]
            }
          },
          {
            "name": "status",
            "in": "path",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "example": ["RELEASED", "OUTDATED", "STAGED", "DRAFT"]
            }
          },
          {
            "name": "section",
            "in": "path",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "example": ["definition", "designation", "slotKey", "slotValue",
                "conceptAssociationSystem", "conceptAssociationTerm", "conceptAssociationText",
                "dataType", "valueDomainDescription", "unitOfMeasure", "format"]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/element/{urn}/release": {
      "patch": {
        "tags": [
          "Element"
        ],
        "summary": "Release Element by URN.",
        "operationId": "release",
        "parameters": [
          {
            "name": "urn",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/element/{urn}/updateMembers": {
      "post": {
        "tags": [
          "Element"
        ],
        "summary": "Update dataElementGroup or record members by urn.",
        "operationId": "Update dataElementGroup or record members by urn.",
        "parameters": [
          {
            "name": "urn",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "Element not Found",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "403": {
            "description": "User has no write access to namespace",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "Element Type is not supported. Only dataElementGroup and record are accepted!",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/element/{urn}": {
      "get": {
        "tags": [
          "Element"
        ],
        "summary": "Get Element by URN.",
        "operationId": "read",
        "parameters": [
          {
            "name": "urn",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "header",
            "name": "Accept-Language",
            "type": "string",
            "required": false,
            "example": "de-DE"
          }
        ],
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      },
      "put": {
        "tags": [
          "Element"
        ],
        "summary": "Update an Element with one of the models Dataelement, Dataelementgroup or Record",
        "operationId": "update",
        "parameters": [
          {
            "name": "urn",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "default response",
          "content": {
            "application/json": {
              "schema": {
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/DataElement"
                  },
                  {
                    "$ref": "#/components/schemas/DataElementGroup"
                  },
                  {
                    "$ref": "#/components/schemas/Record"
                  }
                ]
              },
              "examples": {
                "DATAELEMENT": {
                  "description": "DATAELEMENT",
                  "value": {
                    "identification": {
                      "elementType": "DATAELEMENT",
                      "namespaceUrn": "urn:1:namespace:1:1",
                      "status": "RELEASED"
                    },
                    "definitions": [
                      {
                        "designation": "Geschlecht",
                        "definition": "Geschlecht des Patienten",
                        "language": "de"
                      },
                      {
                        "designation": "gender",
                        "definition": "patient´s gender",
                        "language": "en"
                      }
                    ],
                    "valueDomain": {
                      "type": "STRING",
                      "text": {
                        "useRegEx": false,
                        "regEx": null,
                        "useMaximumLength": false
                      }
                    },
                    "slots": [
                      {
                        "name": "slot_name",
                        "value": "slot_value"
                      }
                    ],
                    "conceptAssociations": [
                      {
                        "conceptId": 1,
                        "system": "ca_system",
                        "sourceId": 1,
                        "version": "ca_version",
                        "term": "ca_term",
                        "text": "ca_text",
                        "linktype": "undefined",
                        "scopedIdentifierId": 1
                      }
                    ]
                  }
                },
                "DATAELEMENTGROUP": {
                  "description": "DATAELEMENTGROUP",
                  "value": {
                    "identification": {
                      "elementType": "DATAELEMENTGROUP",
                      "namespaceUrn": "urn:1:namespace:1:1",
                      "status": "RELEASED"
                    },
                    "definitions": [
                      {
                        "designation": "people",
                        "definition": "smartphone",
                        "language": "de"
                      }
                    ],
                    "members": [],
                    "slots": [
                      {
                        "name": "slot_DEG",
                        "value": "slot_value"
                      }
                    ]
                  }
                },
                "RECORD": {
                  "description": "RECORD",
                  "value": {
                    "identification": {
                      "elementType": "RECORD",
                      "namespaceUrn": "urn:1:namespace:1:1",
                      "status": "RELEASED"
                    },
                    "definitions": [
                      {
                        "designation": "people",
                        "definition": "smartphone",
                        "language": "de"
                      }
                    ],
                    "members": [],
                    "slots": [
                      {
                        "name": "slot_DEG",
                        "value": "slot_value"
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Element"
        ],
        "summary": "Delete Element by URN.",
        "operationId": "delete",
        "parameters": [
          {
            "name": "urn",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/element/{urn}/valuedomain": {
      "get": {
        "tags": [
          "Element"
        ],
        "summary": "Get ValueDomain from a specified Element.",
        "operationId": "release",
        "parameters": [
          {
            "name": "urn",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/element/{urn}/definitions": {
      "get": {
        "tags": [
          "Element"
        ],
        "summary": "Get Definitions from a specified Element.",
        "operationId": "release",
        "parameters": [
          {
            "name": "urn",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/element/{urn}/slots": {
      "get": {
        "tags": [
          "Element"
        ],
        "summary": "Get Slots from a specified Element.",
        "operationId": "release",
        "parameters": [
          {
            "name": "urn",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/element/{urn}/validation": {
      "get": {
        "tags": [
          "Element"
        ],
        "summary": "Get Validation from a specified Element.",
        "operationId": "release",
        "parameters": [
          {
            "name": "urn",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/element/{urn}/identification": {
      "get": {
        "tags": [
          "Element"
        ],
        "summary": "Get Identification from a specified Element.",
        "operationId": "release",
        "parameters": [
          {
            "name": "urn",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/element/{urn}/conceptassociation": {
      "get": {
        "tags": [
          "Element"
        ],
        "summary": "Get ConceptsAssociations from a specified Element.",
        "operationId": "release",
        "parameters": [
          {
            "name": "urn",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/element/{urn}/relations": {
      "get": {
        "tags": [
          "Element"
        ],
        "summary": "Get Relations from a specified Element to other elements.",
        "operationId": "relations",
        "parameters": [
          {
            "name": "urn",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/element": {
      "post": {
        "tags": [
          "Element"
        ],
        "summary": "Create an Element with one of the models Dataelement, Dataelementgroup or Record",
        "operationId": "create",
        "requestBody": {
          "description": "default response",
          "content": {
            "application/json": {
              "schema": {
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/DataElement"
                  },
                  {
                    "$ref": "#/components/schemas/DataElementGroup"
                  },
                  {
                    "$ref": "#/components/schemas/Record"
                  }
                ]
              },
              "examples": {
                "DATAELEMENT": {
                  "description": "DATAELEMENT",
                  "value": {
                    "identification": {
                      "elementType": "DATAELEMENT",
                      "namespaceUrn": "urn:1:namespace:1:1",
                      "status": "RELEASED"
                    },
                    "definitions": [
                      {
                        "designation": "Geschlecht",
                        "definition": "Geschlecht des Patienten",
                        "language": "de"
                      },
                      {
                        "designation": "gender",
                        "definition": "patient´s gender",
                        "language": "en"
                      }
                    ],
                    "valueDomain": {
                      "type": "STRING",
                      "text": {
                        "useRegEx": false,
                        "regEx": null,
                        "useMaximumLength": false
                      }
                    },
                    "slots": [
                      {
                        "name": "slot_name",
                        "value": "slot_value"
                      }
                    ],
                    "conceptAssociations": [
                      {
                        "conceptId": 1,
                        "system": "ca_system",
                        "sourceId": 1,
                        "version": "ca_version",
                        "term": "ca_term",
                        "text": "ca_text",
                        "linktype": "undefined",
                        "scopedIdentifierId": 1
                      }
                    ]
                  }
                },
                "DATAELEMENTGROUP": {
                  "description": "DATAELEMENTGROUP",
                  "value": {
                    "identification": {
                      "elementType": "DATAELEMENTGROUP",
                      "namespaceUrn": "urn:1:namespace:1:1",
                      "status": "RELEASED"
                    },
                    "definitions": [
                      {
                        "designation": "people",
                        "definition": "smartphone",
                        "language": "de"
                      }
                    ],
                    "members": [],
                    "slots": [
                      {
                        "name": "slot_DEG",
                        "value": "slot_value"
                      }
                    ]
                  }
                },
                "RECORD": {
                  "description": "RECORD",
                  "value": {
                    "identification": {
                      "elementType": "RECORD",
                      "namespaceUrn": "urn:1:namespace:1:1",
                      "status": "RELEASED"
                    },
                    "definitions": [
                      {
                        "designation": "people",
                        "definition": "smartphone",
                        "language": "de"
                      }
                    ],
                    "members": [],
                    "slots": [
                      {
                        "name": "slot_DEG",
                        "value": "slot_value"
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "CREATED",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/namespaces/{namespaceId}/release": {
      "patch": {
        "tags": [
          "Namespace"
        ],
        "summary": "Release Namespace by id.",
        "operationId": "release_1",
        "parameters": [
          {
            "name": "namespaceId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/namespaces/?scope={scope}": {
      "get": {
        "tags": [
          "Namespace"
        ],
        "summary": "Get all Namespaces with specified scope.",
        "operationId": "",
        "parameters": [
          {
            "name": "scope",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "enum": ["read", "write", "admin"]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/namespaces/{namespaceId}/members?elementType={elementType}": {
      "get": {
        "tags": [
          "Namespace"
        ],
        "summary": "Get Namespace Members.",
        "operationId": "Get Namespace Members",
        "parameters": [
          {
            "name": "namespaceId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "header",
            "name": "Accept-Language",
            "schema": {
              "type": "string"
            },
            "required": false,
            "example": "de-DE"
          },
          {
            "in": "header",
            "name": "Accept",
            "schema": {
              "type": "string"
            },
            "required": false,
            "example": "application/vnd+de.dataelementhub.listview+json"
          },
          {
            "name": "elementType",
            "in": "path",
            "required": true,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "example": ["DATAELEMENTGROUP", "RECORD", "DATAELEMENT",
                "ENUMERATED_VALUE_DOMAIN", "DESCRIBED_VALUE_DOMAIN", "DEFINED_VALUE_DOMAIN",
                "CATALOG_VALUE_DOMAIN", "PERMISSIBLE_VALUE"]
            }
          },
          {
            "in": "query",
            "name": "hideSubElements",
            "schema": {
              "type": "boolean",
              "required": false,
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "No such element found",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/namespaces/{namespaceIdentifier}/access": {
      "get": {
        "tags": [
          "Namespace"
        ],
        "summary": "Read user access to namespace by namespace identifier.",
        "operationId": "Read user access to namespace by namespace identifier.",
        "parameters": [
          {
            "name": "namespaceIdentifier",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "403": {
            "description": "Access is forbidden",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "No such element found.",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      },
      "patch": {
        "tags": [
          "Namespace"
        ],
        "summary": "Update user access to namespace.",
        "operationId": "Update user access to namespace.",
        "parameters": [
          {
            "name": "namespaceIdentifier",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array"
              },
              "examples": {
                "Permissions": {
                  "description": "Update Element Relation.",
                  "value": [
                    {
                      "userAuthId": "foo-bar",
                      "accessLevel": "WRITE"
                    }, {
                      "userAuthId": "bar-foo",
                      "accessLevel": "READ"
                    }
                  ]
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "403": {
            "description": "Access is forbidden",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "No such element found.",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "Bad request.",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/namespaces/{namespaceIdentifier}/access/{userAuthId}": {
      "delete": {
        "tags": [
          "Namespace"
        ],
        "summary": "Update user access to namespace.",
        "operationId": "Update user access to namespace.",
        "parameters": [
          {
            "name": "namespaceIdentifier",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userAuthId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "403": {
            "description": "Access is forbidden",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "No such element found.",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "Bad request.",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/namespaces/{namespaceId}": {
      "get": {
        "tags": [
          "Namespace"
        ],
        "summary": "Get Namespace by id.",
        "operationId": "read_1",
        "parameters": [
          {
            "name": "namespaceId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "header",
            "name": "Accept-Language",
            "type": "string",
            "required": false,
            "example": "de-DE"
          }

        ],
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      },
      "put": {
        "tags": [
          "Namespace"
        ],
        "operationId": "update_1",
        "parameters": [
          {
            "name": "namespaceId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "string"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Namespace"
        ],
        "summary": "Delete Namespace by id.",
        "operationId": "delete_1",
        "parameters": [
          {
            "name": "namespaceId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/v1/namespaces": {
      "post": {
        "tags": [
          "Namespace"
        ],
        "operationId": "create_1",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "string"
              },
              "examples": {
                "NAMESPACE": {
                  "description": "NAMESPACE",
                  "value": {
                    "identification": {
                      "elementType": "NAMESPACE",
                      "hideNamespace": false,
                      "status": "RELEASED"
                    },
                    "definitions": [
                      {
                        "designation": "Namespace designation",
                        "definition": "Namespace definition",
                        "language": "en"
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        },
        "security": [
          {
            "oauth2": []
          },
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/tree/{nodeId}": {
      "get": {
        "operationId": "get",
        "parameters": [
          {
            "name": "nodeId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": true,
            "schema": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "DRAFT",
                  "RELEASED",
                  "OUTDATED",
                  "STAGED"
                ]
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TreeNode"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/version": {
      "get": {
        "operationId": "getVersion",
        "responses": {
          "200": {
            "description": "default response",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/BuildInformation"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ConceptAssociation": {
        "type": "object",
        "properties": {
          "conceptId": {
            "type": "integer",
            "format": "int32"
          },
          "system": {
            "type": "string"
          },
          "sourceId": {
            "type": "integer",
            "format": "int32"
          },
          "version": {
            "type": "string"
          },
          "term": {
            "type": "string"
          },
          "text": {
            "type": "string"
          },
          "linktype": {
            "type": "string",
            "enum": [
              "undefined",
              "equal",
              "equivalent",
              "wider",
              "subsumes",
              "narrower",
              "specializes",
              "inexact"
            ]
          },
          "scopedIdentifierId": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "DataElement": {
        "type": "object",
        "properties": {
          "identification": {
            "$ref": "#/components/schemas/Identification"
          },
          "definitions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Definition"
            }
          },
          "slots": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Slot"
            }
          },
          "valueDomain": {
            "$ref": "#/components/schemas/ValueDomain"
          },
          "conceptAssociations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ConceptAssociation"
            }
          }
        }
      },
      "Datetime": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string"
          },
          "time": {
            "type": "string"
          },
          "hourFormat": {
            "type": "string"
          }
        }
      },
      "Definition": {
        "type": "object",
        "properties": {
          "designation": {
            "type": "string"
          },
          "definition": {
            "type": "string"
          },
          "language": {
            "type": "string"
          }
        }
      },
      "Identification": {
        "type": "object",
        "properties": {
          "elementType": {
            "type": "string",
            "enum": [
              "DATAELEMENTGROUP",
              "RECORD",
              "DATAELEMENT",
              "CATALOG",
              "CODE",
              "NAMESPACE",
              "ENUMERATED_VALUE_DOMAIN",
              "DESCRIBED_VALUE_DOMAIN",
              "CATALOG_VALUE_DOMAIN",
              "PERMISSIBLE_VALUE"
            ]
          },
          "namespaceId": {
            "type": "integer",
            "format": "int32"
          },
          "status": {
            "type": "string",
            "enum": [
              "DRAFT",
              "RELEASED",
              "OUTDATED",
              "STAGED"
            ]
          },
          "identifier": {
            "type": "integer",
            "format": "int32"
          },
          "revision": {
            "type": "integer",
            "format": "int32"
          },
          "urn": {
            "type": "string"
          },
          "hideNamespace": {
            "type": "boolean"
          }
        }
      },
      "Numeric": {
        "type": "object",
        "properties": {
          "useMinimum": {
            "type": "boolean"
          },
          "useMaximum": {
            "type": "boolean"
          },
          "minimum": {
            "type": "integer",
            "format": "int32"
          },
          "maximum": {
            "type": "integer",
            "format": "int32"
          },
          "unitOfMeasure": {
            "type": "string"
          }
        }
      },
      "PermittedValue": {
        "type": "object",
        "properties": {
          "value": {
            "type": "string"
          },
          "meanings": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Definition"
            }
          }
        }
      },
      "Slot": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "value": {
            "type": "string"
          }
        }
      },
      "Text": {
        "type": "object",
        "properties": {
          "useRegEx": {
            "type": "boolean"
          },
          "regEx": {
            "type": "string"
          },
          "useMaximumLength": {
            "type": "boolean"
          },
          "maximumLength": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "ValueDomain": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string"
          },
          "text": {
            "$ref": "#/components/schemas/Text"
          },
          "permittedValues": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PermittedValue"
            }
          },
          "numeric": {
            "$ref": "#/components/schemas/Numeric"
          },
          "datetime": {
            "$ref": "#/components/schemas/Datetime"
          }
        }
      },
      "DataElementGroup": {
        "type": "object",
        "properties": {
          "identification": {
            "$ref": "#/components/schemas/Identification"
          },
          "definitions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Definition"
            }
          },
          "slots": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Slot"
            }
          },
          "members": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Member"
            }
          }
        }
      },
      "Member": {
        "type": "object",
        "properties": {
          "elementUrn": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "DRAFT",
              "RELEASED",
              "OUTDATED",
              "STAGED"
            ]
          },
          "order": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "Record": {
        "type": "object",
        "properties": {
          "identification": {
            "$ref": "#/components/schemas/Identification"
          },
          "definitions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Definition"
            }
          },
          "slots": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Slot"
            }
          },
          "members": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Member"
            }
          }
        }
      },
      "Namespace": {
        "type": "object",
        "properties": {
          "identification": {
            "$ref": "#/components/schemas/Identification"
          },
          "definitions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Definition"
            }
          },
          "slots": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Slot"
            }
          }
        }
      },
      "AttributesList": {
        "type": "object",
        "properties": {
          "attributes": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      },
      "ITree": {
        "type": "object",
        "properties": {
          "icon": {
            "type": "string"
          },
          "state": {
            "$ref": "#/components/schemas/State"
          },
          "a": {
            "$ref": "#/components/schemas/AttributesList"
          },
          "li": {
            "$ref": "#/components/schemas/AttributesList"
          }
        }
      },
      "State": {
        "type": "object",
        "properties": {
          "checked": {
            "type": "boolean"
          },
          "collapsed": {
            "type": "boolean"
          },
          "draggable": {
            "type": "boolean"
          },
          "editable": {
            "type": "boolean"
          },
          "focused": {
            "type": "boolean"
          },
          "hidden": {
            "type": "boolean"
          },
          "indeterminate": {
            "type": "boolean"
          },
          "loading": {
            "type": "boolean"
          },
          "matched": {
            "type": "boolean"
          },
          "removed": {
            "type": "boolean"
          },
          "rendered": {
            "type": "boolean"
          },
          "selectable": {
            "type": "boolean"
          },
          "selected": {
            "type": "boolean"
          },
          "drop-target": {
            "type": "boolean"
          }
        }
      },
      "TreeNode": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "text": {
            "type": "string"
          },
          "itree": {
            "$ref": "#/components/schemas/ITree"
          },
          "children": {
            "type": "boolean"
          }
        }
      },
      "BuildInformation": {
        "type": "object",
        "properties": {
          "buildVersion": {
            "type": "string"
          },
          "buildDate": {
            "type": "string"
          },
          "buildBranch": {
            "type": "string"
          },
          "buildHash": {
            "type": "string"
          }
        }
      }
    },
    "securitySchemes": {
      "oauth2": {
        "type": "oauth2",
        "flows": {
          "implicit": {
            "authorizationUrl": "https://auth.dev.osse-register.de/auth/realms/dehub-demo/protocol/openid-connect/auth",
            "scopes": {
            }
          }
        }
      },
      "basicAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  }
}
